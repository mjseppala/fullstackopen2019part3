{"version":3,"sources":["services/persons.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","r","data","newObject","post","id","delete","concat","put","Notification","_ref","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","react_default","a","createElement","Filter","_ref2","filter","changeHandler","value","onChange","AddNew","_ref3","handleSubmit","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","_ref4","entriesToShow","deletePerson","map","person","key","name","number","onClick","window","confirm","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","useEffect","personService","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","notificationData","setNotificationData","p","toUpperCase","includes","showNotification","setTimeout","src_Notification","src_Filter","event","target","src_AddNew","preventDefault","oldPerson","find","updateObject","objectSpread","catch","error","src_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.5caf9d2c.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => axios.get(baseUrl).then(r => r.data)\n\nconst create = newObject => axios\n  .post(baseUrl, newObject)\n  .then(r => r.data)\n\nconst deletePerson = id => axios.delete(`${baseUrl}/${id}`)\n\nconst update = (id, newObject) => axios.put(`${baseUrl}/${id}`, newObject)\n\nexport default { getAll, create, deletePerson, update }\n","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\n\nimport personService from './services/persons'\n\nconst Notification = ({ data }) => {\n  if (data === null) {\n    return null\n  }\n\n  const { message, color } = data\n\n  const style = {\n    color,\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  return (\n    <div style={style}>\n      {message}\n    </div>\n  )\n}\n\nconst Filter = ({ filter, changeHandler }) => (\n  <div>\n    filter shown with\n        <input\n      value={filter}\n      onChange={changeHandler} />\n  </div>\n)\n\nconst AddNew = ({ handleSubmit, newName, handleNameChange, newNumber, handleNumberChange }) => (\n  <div>\n    <h2>add a new</h2>\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input value={newName}\n          onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber}\n          onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  </div>\n)\n\nconst Persons = ({ entriesToShow, deletePerson }) => (\n  <div>\n    <h2>Numbers</h2>\n    {entriesToShow.map(person =>\n      <div key={person.id}>\n        {person.name} {person.number}\n        <button onClick={() => {\n          if (window.confirm(`Delete ${person.name}`)) {\n            deletePerson(person.id, person.name)\n          }\n        }}>\n          delete\n        </button>\n      </div>\n    )}\n  </div>\n)\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n\n  useEffect(() => {\n    personService.getAll()\n      .then(data => {\n        setPersons(data)\n      })\n  }, [])\n\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notificationData, setNotificationData] = useState(null)\n\n  const entriesToShow = filter !== '' ?\n    persons.filter(p => p.name.toUpperCase().includes(\n      filter.toUpperCase())) : persons\n\n  const deletePerson = (id, name) => personService\n    .deletePerson(id).then(r => {\n      showNotification(`Deleted ${name}`, 'green')\n      setPersons(persons.filter(p => p.id !== id))\n      setNewName('')\n      setNewNumber('')\n    }).catch(error =>\n      showNotification(`Failed to delete ${name}`, 'red')\n    )\n\n  const submit = event => {\n    event.preventDefault()\n\n    const newObject = { name: newName, number: newNumber }\n\n    const oldPerson = persons.find(person => person.name === newName)\n    if (oldPerson) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const updateObject = { ...oldPerson, number: newNumber }\n        personService.update(oldPerson.id, updateObject).then(r => {\n          showNotification(`Updated ${updateObject.name}`, 'green')\n          setPersons(persons.map(p => p.id !== oldPerson.id ? p : updateObject))\n          setNewName('')\n          setNewNumber('')\n        }).catch(error =>\n          showNotification(`Failed to update ${oldPerson.name}`, 'red')\n        )\n      }\n    } else {\n      personService.create(newObject)\n        .then(data => {\n          showNotification(`Added ${newObject.name}`, 'green')\n          setPersons(persons.concat(data))\n          setNewName('')\n          setNewNumber('')\n        }).catch(error =>\n          showNotification(`Failed to create ${newObject.name}`, 'red')\n        )\n    }\n  }\n\n  const showNotification = (message, color) => {\n    setNotificationData({ message, color })\n    setTimeout(() => {\n      setNotificationData(null)\n    }, 5000)\n  }\n\n  const onFilterChange = event => setFilter(event.target.value)\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification data={notificationData} />\n      <Filter filter={filter} changeHandler={onFilterChange} />\n      <AddNew\n        handleSubmit={submit}\n        newName={newName}\n        handleNameChange={event => setNewName(event.target.value)}\n        newNumber={newNumber}\n        handleNumberChange={event => setNewNumber(event.target.value)}\n      />\n      <Persons entriesToShow={entriesToShow} deletePerson={deletePerson} />\n    </div >\n  )\n}\n\nReactDOM.render(<App />, document.getElementById('root'))\n\nexport default App\n\n"],"sourceRoot":""}